# offrec

## DB設計

### channel

監視対象のチャンネルを管理するテーブル

### message_delete_queue

削除対象のメッセージを管理するテーブル

## 処理

### チャンネル登録コマンド

監視対象のチャンネルを登録するコマンド。

### 履歴一括削除コマンド

過去のメッセージを削除対象としてキューイングするコマンド。`/cleanup-history` を利用する。

### キューイング

監視対象のチャンネルに投稿されたメッセージを削除対象としてキューイングする。

### 削除デーモン

削除対象のメッセージを削除するデーモン。
キューイングされたメッセージはTTLを持ち、投稿からTTL時間が経過すると削除される。
